(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bf53da1"],{"0872":function(t,a,e){"use strict";e.d(a,"f",(function(){return r})),e.d(a,"d",(function(){return s})),e.d(a,"e",(function(){return n})),e.d(a,"a",(function(){return h})),e.d(a,"h",(function(){return o})),e.d(a,"b",(function(){return l})),e.d(a,"g",(function(){return u})),e.d(a,"c",(function(){return c}));var i=e("b775");function r(t){return Object(i["a"])({url:"/sys/chart/list",method:"get",params:t})}function s(t){return Object(i["a"])({url:"/sys/chart/"+t,method:"get"})}function n(t){return Object(i["a"])({url:"/sys/chart/code/"+t,method:"get"})}function h(t){return Object(i["a"])({url:"/sys/chart",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/sys/chart",method:"put",data:t})}function l(t){return Object(i["a"])({url:"/sys/chart/"+t,method:"delete"})}function u(t){return Object(i["a"])({url:"/sys/chart/menu/"+t,method:"get"})}function c(t){return Object(i["a"])({url:"/sys/chart/export",method:"get",params:t})}},"0926":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{style:{height:t.height,width:t.width}})},r=[],s=(e("b0c0"),e("3afe")),n=e("313e");e("817d");var h={name:"LineChart",props:{chartData:{type:Object,required:!0},params:{type:Object,required:!1},width:{type:String,default:"100%"},height:{type:String,default:"350px"}},data:function(){return{chart:null,xaxis:null,yaxis:null,options:{title:{text:"一般折线图",left:"center"},tooltip:{trigger:"axis"},toolbox:{show:!0,feature:{saveAsImage:{show:!0,title:"下载"}}},xAxis:{type:"category",boundaryGap:!0,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:[{type:"value",axisLabel:{formatter:"{value} "}}],series:[{data:[820,932,901,934,1290,1330,1320],type:"line"}]}}},watch:{params:{deep:!0,handler:function(t){this.initChart(t)}}},mounted:function(){var t=this;if(this.options.title.text=this.chartData.title,this.chartData.xaxis){var a=this.chartData.xaxis.split("=");this.xaxis=a[0]}else this.xaxis="x";if(this.chartData.yaxis){var e=this.chartData.yaxis.split("=");this.yaxis=e[0],this.options.series[0].name=e[1]}else this.yaxis="y",this.options.series[0].name="数量";this.$nextTick((function(){t.chart=n["init"](t.$el,"macarons"),t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(t){var a=this;t||(t={}),t.id=this.chartData.dsId,Object(s["f"])(t).then((function(t){a.options.xAxis.data=[],a.options.series[0].data=[];for(var e=0;e<t.data.length;e++)a.options.xAxis.data.push(t.data[e][a.xaxis]),a.options.series[0].data.push(t.data[e][a.yaxis]);console.log(a.options),a.chart.setOption(a.options)}))}}},o=h,l=e("2877"),u=Object(l["a"])(o,i,r,!1,null,null,null);a["a"]=u.exports},"23dd":function(t,a,e){"use strict";e("6ee0")},"34c7":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{class:t.className,style:{height:t.height,width:t.width}})},r=[],s=(e("b0c0"),e("3afe")),n=e("313e");e("817d");var h={name:"BarChart",props:{chartData:{type:Object,required:!0},params:{type:Object,required:!1},className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"}},data:function(){return{chart:null,xaxis:null,yaxis:null,options:{title:{text:"一般柱状图",left:"center"},tooltip:{trigger:"axis"},toolbox:{show:!0,feature:{saveAsImage:{show:!0,title:"下载"}}},xAxis:{type:"category",boundaryGap:!0,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:[{type:"value",axisLabel:{formatter:"{value} "}}],series:[{data:[820,932,901,934,1290,1330,1320],type:"bar"}]}}},watch:{params:{deep:!0,handler:function(t){this.initChart(t)}}},mounted:function(){var t=this;if(this.options.title.text=this.chartData.title,this.chartData.xaxis){var a=this.chartData.xaxis.split("=");this.xaxis=a[0]}else this.xaxis="x";if(this.chartData.yaxis){var e=this.chartData.yaxis.split("=");this.yaxis=e[0],this.options.series[0].name=e[1]}else this.yaxis="y",this.options.series[0].name="数量";this.$nextTick((function(){t.chart=n["init"](t.$el,"macarons"),t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(t){var a=this;t||(t={}),t.id=this.chartData.dsId,Object(s["f"])(t).then((function(t){a.options.xAxis.data=[],a.options.series[0].data=[];for(var e=0;e<t.data.length;e++)a.options.xAxis.data.push(t.data[e][a.xaxis]),a.options.series[0].data.push(t.data[e][a.yaxis]);a.chart.setOption(a.options)}))}}},o=h,l=e("2877"),u=Object(l["a"])(o,i,r,!1,null,null,null);a["a"]=u.exports},"47df":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("el-form",{directives:[{name:"show",rawName:"v-show",value:t.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:t.queryParams,inline:!0,"label-width":"68px"}},[e("el-form-item",{attrs:{label:"查询条件",prop:"where"}},[e("el-input",{attrs:{clearable:"",size:"small"},model:{value:t.queryParams.where,callback:function(a){t.$set(t.queryParams,"where",a)},expression:"queryParams.where"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"cyan",icon:"el-icon-search",size:"mini"},on:{click:t.handleQuery}},[t._v("搜索")]),e("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:t.resetQuery}},[t._v("重置")])],1)],1),e("el-row",{attrs:{gutter:32}},[e("el-col",{attrs:{xs:24,lg:{span:20,offset:2}}},[e("div",{staticClass:"chart-wrapper"},["line"==t.chart.type?e("line-chart",{attrs:{chartData:t.chart,params:t.query}}):t._e(),"bar"==t.chart.type?e("bar-chart",{attrs:{chartData:t.chart,params:t.query}}):t._e(),"pie"==t.chart.type?e("pie-chart",{attrs:{chartData:t.chart,params:t.query}}):t._e(),"gauge"==t.chart.type?e("gauge-chart",{attrs:{chartData:t.chart,params:t.query}}):t._e(),"table"==t.chart.type?e("table-chart",{attrs:{chartData:t.chart,params:t.query}}):t._e()],1)])],1)],1)},r=[],s=e("0926"),n=e("34c7"),h=e("788c"),o=e("fd7b"),l=e("a9f8"),u=e("0872"),c={name:"ChartView",components:{LineChart:s["a"],BarChart:n["a"],PieChart:h["a"],GaugeChart:o["a"],TableChart:l["a"]},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,showSearch:!1,queryParams:{pageNum:1,pageSize:10,id:null,where:null},query:{pageNum:1,pageSize:10,where:null},chart:{}}},created:function(){var t=this,a=this.$route.params&&this.$route.params.chartId;Object(u["d"])(a).then((function(a){t.chart=a.data}))},methods:{handleQuery:function(){this.query.pageNum=1,this.query.where=this.queryParams.where},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()}}},d=c,p=(e("23dd"),e("2877")),f=Object(p["a"])(d,i,r,!1,null,"4dfe0f68",null);a["default"]=f.exports},"6ee0":function(t,a,e){},"788c":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{class:t.className,style:{height:t.height,width:t.width}})},r=[],s=(e("b0c0"),e("3afe")),n=e("313e");e("817d");var h={name:"PieChart",props:{chartData:{type:Object,required:!0},params:{type:Object,required:!1},className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"}},data:function(){return{chart:null,xaxis:null,yaxis:null,options:{title:{text:"某站点用户访问来源",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},toolbox:{show:!0,feature:{saveAsImage:{show:!0,title:"下载"}}},legend:{orient:"vertical",left:"left",data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎"]},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}},watch:{params:{deep:!0,handler:function(t){this.initChart(t)}}},mounted:function(){var t=this;if(this.options.title.text=this.chartData.title,this.chartData.xaxis){var a=this.chartData.xaxis.split("=");this.xaxis=a[0]}else this.xaxis="x";if(this.chartData.yaxis){var e=this.chartData.yaxis.split("=");this.yaxis=e[0]}else this.yaxis="y";this.$nextTick((function(){t.chart=n["init"](t.$el,"macarons"),t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(t){var a=this;t||(t={}),t.id=this.chartData.dsId,Object(s["f"])(t).then((function(t){a.options.legend.data=[],a.options.series[0].data=[],a.options.series[0].name="数量";for(var e=0;e<t.data.length;e++)a.options.legend.data.push(t.data[e][a.xaxis]),a.options.series[0].data.push({value:t.data[e][a.yaxis],name:t.data[e][a.xaxis]});a.chart.setOption(a.options)}))}}},o=h,l=e("2877"),u=Object(l["a"])(o,i,r,!1,null,null,null);a["a"]=u.exports},a9f8:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.dataList,"max-height":t.maxHeight}},[e("el-table-column",{attrs:{type:"number",width:"55",align:"center"}}),t._l(t.cols,(function(t){return e("el-table-column",{attrs:{label:t.title,align:"center",prop:t.field}})}))],2),t.pager?e("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.queryParams.pageNum,limit:t.queryParams.pageSize},on:{"update:page":function(a){return t.$set(t.queryParams,"pageNum",a)},"update:limit":function(a){return t.$set(t.queryParams,"pageSize",a)},pagination:t.getList}}):t._e()],1)},r=[],s=(e("a9e3"),e("3afe")),n={name:"TableChart",props:{chartData:{type:Object,required:!0},params:{type:Object,required:!1},maxHeight:{type:Number,required:!1},pager:{type:Boolean,required:!1}},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,dataList:[],queryParams:{pageNum:1,pageSize:10,id:null,params:{}},ds:{},cols:[]}},created:function(){this.getList(this.params);for(var t=this.chartData.comment.split("\n"),a=0;a<t.length;a++){var e=t[a].split("=");this.cols.push({field:e[0],title:e[1]})}},watch:{params:{deep:!0,handler:function(t){this.getList(t)}}},methods:{getList:function(t){var a=this;this.queryParams.id=this.chartData.dsId,this.queryParams.params=t,this.loading=!0,Object(s["f"])(this.queryParams).then((function(t){a.dataList=t.data,a.total=t.total,a.loading=!1}))},reset:function(){this.form={id:null,code:null,type:null,title:null,sqls:null,param:null,listSort:null,comment:null,status:"0"},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()}}},h=n,o=e("2877"),l=Object(o["a"])(h,i,r,!1,null,null,null);a["a"]=l.exports},fd7b:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{class:t.className,style:{height:t.height,width:t.width}})},r=[],s=(e("b0c0"),e("3afe")),n=e("313e");e("817d");var h={name:"GaugeChart",props:{chartData:{type:Object,required:!0},params:{type:Object,required:!1},className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"}},data:function(){return{chart:null,xaxis:null,yaxis:null,options:{tooltip:{formatter:"{a} <br/>{b} : {c}%"},toolbox:{feature:{restore:{},saveAsImage:{}}},series:[{name:"指标",type:"gauge",detail:{formatter:"{value}%"},data:[{value:50,name:"完成率"}]}]}}},watch:{params:{deep:!0,handler:function(t){this.initChart(t)}}},mounted:function(){var t=this;this.options.series[0].data[0]["name"]=this.chartData.title,this.$nextTick((function(){t.chart=n["default"].init(t.$el,"macarons"),t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(t){var a=this;t||(t={}),t.id=this.chartData.dsId,Object(s["f"])(t).then((function(t){a.options.series[0].data[0]["value"]=t.data,a.chart.setOption(a.options)}))}}},o=h,l=e("2877"),u=Object(l["a"])(o,i,r,!1,null,null,null);a["a"]=u.exports}}]);